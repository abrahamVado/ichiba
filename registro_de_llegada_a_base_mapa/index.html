<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Registro de llegada ‚Äì Sheet</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800;900&display=swap" rel="stylesheet">
<link href="../styles/main.css" rel="stylesheet">
</head>
<body class="page-registro-mapa">
<div id="map"></div>

<div class="overlay">
  <div class="sheet">
    <div class="h1">Registro de llegada a base</div>

    <div class="row"><span class="dot"></span><div>Col. Petrolera, Minatitl√°n</div><div></div></div>
    <div class="row"><span class="dot"></span><div>Plaza Cristal Minatitl√°n</div><div></div></div>

    <div class="row"><span>üí≥</span><div>Efectivo</div><div style="font-weight:800">12 min</div></div>
    <div class="row"><span>‚è±</span><div>Tiempo estimado</div><div style="font-weight:800">Ejecutivo</div></div>

    <button class="btn primary">Aceptar viaje</button>
    <button class="btn ghost">Rechazar</button>
  </div>
</div>

<script>
//1.- Localizar los botones de decisi√≥n del viaje.
const acceptButton = document.querySelector('.btn.primary');
const rejectButton = document.querySelector('.btn.ghost');
//2.- Continuar con el flujo del trayecto al aceptar el viaje.
if (acceptButton) {
  acceptButton.addEventListener('click', () => {
    window.location.href = '../trayecto_con_tarjeta_de_pasajera/';
  });
}
//3.- Redirigir el rechazo hacia la pantalla dedicada de confirmaci√≥n.
if (rejectButton) {
  rejectButton.addEventListener('click', () => {
    window.location.href = '../rechazo_de_viaje/';
  });
}
</script>

<script>
//1.- Definir referencias globales para el mapa, la ruta y el marcador.
let map, route, car;

//2.- Configurar el mapa de Google y los elementos visuales.
function initMap(){
  const center={lat:18.0007,lng:-94.5566};
  map=new google.maps.Map(document.getElementById('map'),{
    center,zoom:13,disableDefaultUI:true,
    styles:[
      {featureType:"poi",stylers:[{visibility:"off"}]},
      {featureType:"transit",stylers:[{visibility:"off"}]},
      {elementType:"labels.text.fill",stylers:[{color:"#6b7280"}]},
      {elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},
      {featureType:"water",stylers:[{color:"#d7e3f4"}]}
    ]
  });

  //3.- Trazar la ruta estimada y colocar un marcador representativo.
  const path=[
    {lat:17.997,lng:-94.556},{lat:18.004,lng:-94.553},{lat:18.01,lng:-94.548}
  ];
  route=new google.maps.Polyline({path,strokeColor:"#d4a016",strokeWeight:6,map});
  car=new google.maps.Marker({position:path[0],map,
    icon:{path:google.maps.SymbolPath.CIRCLE,scale:8,fillColor:"#111",fillOpacity:1,strokeColor:"#ffc",strokeWeight:2}});

  //4.- Ajustar el mapa para mostrar el recorrido completo.
  map.fitBounds(new google.maps.LatLngBounds(path[0],path[path.length-1]));
}
</script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&v=weekly&callback=initMap"></script>
</body>
</html>
